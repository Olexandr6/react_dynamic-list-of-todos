(this["webpackJsonpreact_dynamic-list-of-todos"]=this["webpackJsonpreact_dynamic-list-of-todos"]||[]).push([[0],{19:function(e,t,r){},20:function(e,t,r){},21:function(e,t,r){},23:function(e,t,r){},24:function(e,t,r){"use strict";r.r(t);var n=r(11),s=r.n(n),a=r(1),c=r.n(a),o=r(2),i=r(13),l=r(4),u=r(10),d=r(5),h=r(6),j=r(8),p=r(7),b=r(3),m=r.n(b),f=(r(19),r(20),r(12)),O=r.n(f),v=(r(21),r(0)),x=function(e){var t=e.todos,r=e.searchQuery,n=e.todoStatus,s=e.onSearchChange,a=e.onSelectUser,c=e.onRandomize;return Object(v.jsxs)("div",{className:"TodoList",children:[Object(v.jsxs)("form",{className:"form",action:"GET",children:[Object(v.jsx)("h2",{className:"form__title",children:"Filter todos"}),Object(v.jsx)("div",{className:"mb-4",children:Object(v.jsxs)("label",{className:"form__label",htmlFor:"title",children:["Search todo",Object(v.jsx)("br",{}),Object(v.jsx)("input",{className:"form-control mt-1",name:"searchQuery",type:"text",placeholder:"Type search word",value:r,onChange:s})]})}),Object(v.jsx)("div",{children:Object(v.jsxs)("select",{className:"form-select mb-5",name:"todoStatus",id:"todoStatus",value:n,onChange:s,children:[Object(v.jsx)("option",{value:"",disabled:!0,children:"Choose a todo status"}),Object(v.jsx)("option",{value:"all",children:"All"}),Object(v.jsx)("option",{value:"completed",children:"Completed"}),Object(v.jsx)("option",{value:"not completed",children:"Not completed"})]})})]}),Object(v.jsx)("h2",{children:"Todos:"}),Object(v.jsx)("div",{className:"btn-container",children:Object(v.jsx)("button",{className:"btn btn-outline-primary TodoList__randomize-btn",type:"button",onClick:c,children:"Randomize"})}),Object(v.jsx)("div",{className:"TodoList__list-container",children:Object(v.jsx)("ul",{className:"TodoList__list",children:t.map((function(e){var t=e.id,r=e.userId,n=e.title,s=e.completed;return Object(v.jsxs)("li",{className:O()("TodoList__item",{"TodoList__item--checked":s},{"TodoList__item--unchecked":!s}),children:[Object(v.jsxs)("label",{htmlFor:"todo",children:[Object(v.jsx)("input",{name:"todo",type:"checkbox",checked:s,readOnly:!0}),Object(v.jsx)("p",{children:n})]}),Object(v.jsx)("button",{className:" TodoList__user-button TodoList__user-button--selected button ",type:"button",onClick:function(){return a(r)},children:"User#".concat(r)})]},t)}))})})]})},_="https://mate.academy/students-api";function y(e){return N.apply(this,arguments)}function N(){return(N=Object(o.a)(c.a.mark((function e(t){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:if((r=e.sent).ok){e.next=5;break}throw new Error("".concat(r.status," ").concat(r.statusText));case 5:return e.abrupt("return",r.json());case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(){return k.apply(this,arguments)}function k(){return(k=Object(o.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("".concat(_,"/todos"));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e){return C.apply(this,arguments)}function C(){return(C=Object(o.a)(c.a.mark((function e(t){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("".concat(_,"/users/").concat(t));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}r(23);var w=function(e){Object(j.a)(r,e);var t=Object(p.a)(r);function r(){var e;Object(d.a)(this,r);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={user:null,isLoadUserError:!1},e}return Object(h.a)(r,[{key:"componentDidMount",value:function(){this.loadUserData()}},{key:"componentDidUpdate",value:function(e){e.userId!==this.props.userId&&this.loadUserData()}},{key:"loadUserData",value:function(){var e=Object(o.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.setState({isLoadUserError:!1}),e.next=4,S(this.props.userId);case 4:t=e.sent,this.setState({user:t}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),this.setState({user:null,isLoadUserError:!0});case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.user,r=e.isLoadUserError;return Object(v.jsxs)("div",{children:[t&&Object(v.jsxs)("div",{className:"CurrentUser",children:[Object(v.jsx)("h2",{className:"CurrentUser__title",children:Object(v.jsx)("span",{children:"Selected user: ".concat(t.id)})}),Object(v.jsx)("h3",{className:"CurrentUser__name",children:t.name}),Object(v.jsx)("p",{className:"CurrentUser__email",children:t.email}),Object(v.jsx)("p",{className:"CurrentUser__phone",children:t.phone}),Object(v.jsx)("button",{type:"button",className:"CurrentUser__clear",onClick:this.props.clearUserInfo,children:"Clear"})]}),r&&Object(v.jsx)("div",{className:"alert alert-danger",role:"alert",children:"An error occured when loading user info!"})]})}}]),r}(m.a.Component),T=function(e){Object(j.a)(r,e);var t=Object(p.a)(r);function r(){var e;Object(d.a)(this,r);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={selectedUserId:0,todos:[],searchQuery:"",todoStatus:""},e.handleChange=function(t){var r=t.target,n=r.name,s=r.value;e.setState((function(e){return Object(u.a)(Object(u.a)({},e),{},Object(l.a)({},n,s))}))},e.filterTodos=function(){var t=e.state,r=t.todos,n=t.searchQuery,s=t.todoStatus,a=r;return n&&(a=a.filter((function(e){return e.title.toLowerCase().includes(n.toLowerCase())}))),s&&(a=a.filter((function(e){var t=e.completed;return"completed"===s?t:"not completed"!==s||!t}))),a},e.selectUser=function(t){e.setState({selectedUserId:t})},e.clearSelectedUser=function(){e.setState({selectedUserId:0})},e.randomizeTodosOrder=function(){for(var t=e.state.todos,r=Object(i.a)(t),n=r.length-1;n>0;n-=1){var s=Math.floor(Math.random()*(n+1)),a=[r[s],r[n]];r[n]=a[0],r[s]=a[1]}e.setState({todos:r})},e}return Object(h.a)(r,[{key:"componentDidMount",value:function(){var e=Object(o.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U();case 2:t=e.sent,this.setState({todos:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.selectedUserId,r=e.todos,n=e.searchQuery,s=e.todoStatus;return Object(v.jsxs)("div",{className:"App",children:[Object(v.jsx)("div",{className:"App__sidebar",children:!!r.length&&Object(v.jsx)(x,{todos:this.filterTodos(),searchQuery:n,todoStatus:s,onSearchChange:this.handleChange,onSelectUser:this.selectUser,onRandomize:this.randomizeTodosOrder})}),Object(v.jsx)("div",{className:"App__content",children:Object(v.jsx)("div",{className:"App__content-container",children:t?Object(v.jsx)(w,{userId:t,clearUserInfo:this.clearSelectedUser}):Object(v.jsx)("div",{className:"alert alert-primary",role:"alert",children:"No user selected"})})})]})}}]),r}(m.a.Component),L=T;s.a.render(Object(v.jsx)(L,{}),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.dfbeb746.chunk.js.map